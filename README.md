# server
Spring Boot Server For ZJUSE2023B3

## Todo List
### 抽象工作
- [ ] 基础架构搭建

### 具体工作目录
- [ ] 数据接口设计
  - [ ] 基础数据结构
  - [ ] 编码方式
  - [ ] ...
- [ ] 数据库设计
- ![](resource/类图.png)
- [X] 登录等功能
  - [X] 注册
  - [X] 登录
- [X] 用户系统
  - [X] 修改用户名
  - [X] 修改邮箱
  - [X] 修改密码
- [X] 好友系统
  - [X] 添加好友
  - [X] 删除好友
  - [X] 查询好友
- [X] 聊天系统
  - [X] 查询所有聊天记录
  - [X] 删除聊天记录
  - [X] 添加一条记录
- [X] 消息系统
  - [X] 发送消息
    -[ ] 待测试
- [ ] 服务器相关
  - [ ] 日志系统
  - [ ] 用户管理

### 4.12添加新需求（与客户端交互相关）
- [ ] 数据库设计
  - [ ] 添加数据表：位置表，人物形象数据表(需要UE组提供数据类型)
- [ ] 增删改查业务
  - [ ] (在线)用户位置信息
    - [ ] 更新位置
    - [ ] 查询位置
  - [ ] 人物形象信息
    - [ ] 插入数据
    - [ ] 修改数据
    - [ ] 查询单条（根据user_id）
    - [ ] 查询所有在线用户的
  - [ ] 服务端日志相关（接口不对外开放，不需要controller）
    - [ ] 插入单条日志
    - [ ] 查询日志
  - [ ] 在线用户管理相关（接口不对外开放，不需要controller）
    - [ ] 插入一条在线用户信息
    - [ ] 更新用户状态
    - [ ] 删除一条信息
  - [ ] 移动、交互等实时操作
  ````mermaid
  graph LR
      A[WebSocket请求,附带当前位置和操作指令] --> B[更新位置信息]
      A --> C[把操作指令WebSocket广播到所有在线用户]
      B --> D[每隔一段时间广播所有在线位置信息]
  ````

    